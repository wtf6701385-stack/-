-- NEKOUI | Fresh Base
-- UI Library Only

local NekoUI = {}

function NekoUI.Init()
    local Players = game:GetService("Players")
    local RunService = game:GetService("RunService")
    local CoreGui = game:GetService("CoreGui")
    local player = Players.LocalPlayer

    if CoreGui:FindFirstChild("NEKOUI_ROOT") then
        CoreGui.NEKOUI_ROOT:Destroy()
    end

    local gui = Instance.new("ScreenGui")
    gui.Name = "NEKOUI_ROOT"
    gui.ResetOnSpawn = false
    gui.Parent = CoreGui

    local function rainbow()
        return Color3.fromHSV((tick() * 0.15) % 1, 0.6, 1)
    end

    local Main = Instance.new("Frame", gui)
    Main.Size = UDim2.new(0, 400, 0, 260)
    Main.Position = UDim2.new(0.5, -200, 0.5, -130)
    Main.BackgroundColor3 = Color3.fromRGB(18,18,22)
    Main.BorderSizePixel = 0
    Main.Active = true
    Main.Draggable = true
    Instance.new("UICorner", Main).CornerRadius = UDim.new(0,12)

    local Stroke = Instance.new("UIStroke", Main)
    Stroke.Thickness = 2

    local Title = Instance.new("TextLabel", Main)
    Title.Size = UDim2.new(1,-20,0,32)
    Title.Position = UDim2.new(0,10,0,6)
    Title.Text = "‡∏Ö Ë≤ìË≤ì NEKO UI ‡∏Ö"
    Title.Font = Enum.Font.GothamBold
    Title.TextSize = 14
    Title.TextXAlignment = Left
    Title.BackgroundTransparency = 1
    Title.TextColor3 = Color3.new(1,1,1)

    local TabBar = Instance.new("Frame", Main)
    TabBar.Size = UDim2.new(0,110,1,-48)
    TabBar.Position = UDim2.new(0,10,0,42)
    TabBar.BackgroundTransparency = 1

    local tabLayout = Instance.new("UIListLayout", TabBar)
    tabLayout.Padding = UDim.new(0,6)

    local Pages = Instance.new("Frame", Main)
    Pages.Size = UDim2.new(1,-140,1,-54)
    Pages.Position = UDim2.new(0,130,0,44)
    Pages.BackgroundTransparency = 1

    local Lib = {}

    function Lib:CreateTab(name, default)
        local Page = Instance.new("ScrollingFrame", Pages)
        Page.Size = UDim2.new(1,0,1,0)
        Page.ScrollBarThickness = 0
        Page.CanvasSize = UDim2.new(0,0,0,0)
        Page.Visible = default or false
        Page.BackgroundTransparency = 1

        local layout = Instance.new("UIListLayout", Page)
        layout.Padding = UDim.new(0,8)

        layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
            Page.CanvasSize = UDim2.new(0,0,0,layout.AbsoluteContentSize.Y + 8)
        end)

        local Tab = Instance.new("TextButton", TabBar)
        Tab.Size = UDim2.new(1,0,0,32)
        Tab.Text = name
        Tab.Font = Enum.Font.GothamMedium
        Tab.TextSize = 11
        Tab.BackgroundColor3 = Color3.fromRGB(30,30,38)
        Tab.TextColor3 = default and Color3.new(1,1,1) or Color3.fromRGB(160,160,160)
        Instance.new("UICorner", Tab)

        Tab.MouseButton1Click:Connect(function()
            for _,p in pairs(Pages:GetChildren()) do
                if p:IsA("ScrollingFrame") then
                    p.Visible = false
                end
            end
            for _,b in pairs(TabBar:GetChildren()) do
                if b:IsA("TextButton") then
                    b.TextColor3 = Color3.fromRGB(160,160,160)
                end
            end
            Page.Visible = true
            Tab.TextColor3 = Color3.new(1,1,1)
        end)

        return Page
    end

    function Lib:CreateButton(parent, text, callback)
        local btn = Instance.new("TextButton", parent)
        btn.Size = UDim2.new(1,-6,0,36)
        btn.BackgroundColor3 = Color3.fromRGB(25,25,32)
        btn.Text = "  üê± "..text
        btn.Font = Enum.Font.Gotham
        btn.TextSize = 12
        btn.TextXAlignment = Left
        btn.TextColor3 = Color3.new(1,1,1)
        Instance.new("UICorner", btn)
        Instance.new("UIStroke", btn)

        btn.MouseButton1Click:Connect(function()
            if callback then
                callback(btn)
            end
        end)

        return btn
    end

    function Lib:CreateInfo(parent, title, desc)
        local frame = Instance.new("Frame", parent)
        frame.Size = UDim2.new(1,-6,0,58)
        frame.BackgroundColor3 = Color3.fromRGB(22,22,28)
        Instance.new("UICorner", frame)

        local t = Instance.new("TextLabel", frame)
        t.Size = UDim2.new(1,-12,0,22)
        t.Position = UDim2.new(0,8,0,6)
        t.Text = title
        t.Font = Enum.Font.GothamBold
        t.TextSize = 12
        t.TextColor3 = Color3.fromRGB(255,200,200)
        t.BackgroundTransparency = 1
        t.TextXAlignment = Left

        local d = Instance.new("TextLabel", frame)
        d.Size = UDim2.new(1,-12,0,22)
        d.Position = UDim2.new(0,8,0,30)
        d.Text = desc
        d.Font = Enum.Font.Gotham
        d.TextSize = 11
        d.TextColor3 = Color3.fromRGB(200,200,200)
        d.BackgroundTransparency = 1
        d.TextXAlignment = Left
    end

    RunService.RenderStepped:Connect(function()
        Stroke.Color = rainbow()
    end)

    return Lib
end

return NekoUI
