-- [[ GitHub: NEKO - å®Œå…¨å¾©åŽŸåŽŸå§‹çµæ§‹ç‰ˆ ]]
local success, NEKOLib = pcall(function()
    return loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOUI?t="..tick()))()
end)

if not success or not NEKOLib then return end

local Lib = NEKOLib:Init()
local player = game:GetService("Players").LocalPlayer
local RunService = game:GetService("RunService")
local Net = game:GetService("ReplicatedStorage"):WaitForChild("Modules"):WaitForChild("Net")
local RE = Net:WaitForChild("RE")
local RegisterAttack = RE:FindFirstChild("RegisterAttack") or RE:FindFirstChild("Attack")
local RegisterHit = RE:FindFirstChild("RegisterHit") or RE:FindFirstChild("Hit")

_G.PVP = false
_G.MOB = false
_G.FastAttack = false

-- [[ æ ¸å¿ƒä¿®æ­£å‡½æ•¸ ]]
local function StartFastAttack()
    task.spawn(function()
        local scriptId = tick()
        _G.CurrentFastAtkID = scriptId
        while _G.FastAttack and _G.CurrentFastAtkID == scriptId do
            RunService.Stepped:Wait()
            local char = player.Character
            if char and char:FindFirstChildOfClass("Tool") then
                local target = nil
                local dist = 3000
                local myPos = char.PrimaryPart.Position
                if _G.PVP then
                    for _, p in pairs(game:GetService("Players"):GetPlayers()) do
                        if p ~= player and p.Character and p.Character:FindFirstChild("Humanoid") and p.Character.Humanoid.Health > 0 then
                            local h = p.Character:FindFirstChild("Head")
                            if h and (h.Position - myPos).Magnitude < dist then dist = (h.Position - myPos).Magnitude target = h end
                        end
                    end
                else
                    local enemyPath = workspace:FindFirstChild("Enemies") or workspace
                    for _, v in pairs(enemyPath:GetDescendants()) do
                        if v:IsA("Model") and v:FindFirstChild("Humanoid") and v.Humanoid.Health > 0 and not game:GetService("Players"):GetPlayerFromCharacter(v) then
                            local h = v:FindFirstChild("Head") or v:FindFirstChild("HumanoidRootPart")
                            if h and (h.Position - myPos).Magnitude < dist then dist = (h.Position - myPos).Magnitude target = h end
                        end
                    end
                end
                if target then
                    RegisterAttack:FireServer(0.125)
                    for i = 1, 12 do RegisterHit:FireServer(target, {target}) end
                end
            end
        end
    end)
end

local function KillCombat() _G.FastAttack = false _G.PVP = false _G.MOB = false end

-- [[ å®Œå…¨æŒ‰ç…§æ‚¨çµ¦çš„åŽŸå§‹ UI å½¢å¼ç·¨æŽ’ ]]
local Tab0 = Lib:CreateTab("è²“å…¬å‘Š", true)
Tab0:AddInfo("ðŸ¾ æ­¡è¿Ž", "æ­¡è¿Žä½¿ç”¨è²“è²“è…³æœ¬ NEKO HUB")

local Tab1 = Lib:CreateTab("è²“æˆ°é¬¥", false)
local btnPVP, btnMOB

btnPVP = Tab1:AddButton("æ‰“æž¶æ¨¡å¼ : OFF", function(self)
    _G.PVP = not _G.PVP
    if _G.PVP then _G.MOB = false if btnMOB then btnMOB.Text = "  åˆ·æ€ªæ¨¡å¼ : OFF" end KillCombat() task.wait(0.1) _G.FastAttack = true StartFastAttack() else KillCombat() end
    self.Text = "  æ‰“æž¶æ¨¡å¼ : " .. (_G.PVP and "ON" or "OFF")
end)

btnMOB = Tab1:AddButton("åˆ·æ€ªæ¨¡å¼ : OFF", function(self)
    _G.MOB = not _G.MOB
    if _G.MOB then _G.PVP = false if btnPVP then btnPVP.Text = "  æ‰“æž¶æ¨¡å¼ : OFF" end KillCombat() task.wait(0.1) _G.FastAttack = true StartFastAttack() else KillCombat() end
    self.Text = "  åˆ·æ€ªæ¨¡å¼ : " .. (_G.MOB and "ON" or "OFF")
end)

local Tab2 = Lib:CreateTab("è²“åŠŸèƒ½", false)
Tab2:AddButton("è²“è²“ç¥žé€Ÿ", function() loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOSPD"))() end)
Tab2:AddButton("è²“è²“é€è¦–", function() loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOESP"))() end)
Tab2:AddButton("è‡ªå‹• V4 : OFF", function(self)
    _G.AutoV4 = not _G.AutoV4
    if _G.AutoV4 then loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOV4"))() end
    self.Text = "  è‡ªå‹• V4 : " .. (_G.AutoV4 and "ON" or "OFF")
end)

local Tab3 = Lib:CreateTab("è²“å¬å–š", false)
Tab3:AddButton("å¬å–šé£›è¡Œ", function() loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOFly"))() end)
