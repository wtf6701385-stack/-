-- [[ GitHub: NEKO - å…§åµŒä¿®å¾©èˆ‡æ ¸å¿ƒæ³¨å…¥ç‰ˆ ]]
local success, NEKOLib = pcall(function()
    return loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOUI?t="..tick()))()
end)

if not success or not NEKOLib then
    warn("âŒ NEKO UI è¼‰å…¥å¤±æ•—ï¼")
    return
end

local Lib = NEKOLib:Init()
local player = game:GetService("Players").LocalPlayer
local RunService = game:GetService("RunService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- [[ æ ¸å¿ƒä¿®æ­£ï¼šè‡ªå‹•è·¯å¾‘éŽ–å®š ]]
local Net = ReplicatedStorage:WaitForChild("Modules"):WaitForChild("Net")
local RE = Net:WaitForChild("RE")
local RegisterAttack = RE:FindFirstChild("RegisterAttack") or RE:FindFirstChild("Attack")
local RegisterHit = RE:FindFirstChild("RegisterHit") or RE:FindFirstChild("Hit")

-- [[ å…¨åŸŸæŽ§åˆ¶ ]]
_G.PVP = false
_G.MOB = false
_G.FastAttack = false

-- [[ æ ¸å¿ƒ FastAttack åŸ·è¡Œå‡½æ•¸ (æœ¬åœ°æ³¨å…¥ç‰ˆ) ]]
local function StartFastAttack()
    task.spawn(function()
        local scriptId = tick()
        _G.CurrentFastAtkID = scriptId
        
        while _G.FastAttack and _G.CurrentFastAtkID == scriptId do
            RunService.Stepped:Wait()
            
            local char = player.Character
            local tool = char and char:FindFirstChildOfClass("Tool")
            
            if tool and tool.ToolTip ~= "Gun" then
                -- å°‹æ‰¾æœ€è¿‘ç›®æ¨™
                local target = nil
                local dist = 3000
                local myPos = char.PrimaryPart.Position
                
                -- æ ¹æ“šæ¨¡å¼åˆ‡æ›ç›®æ¨™ä¾†æº (é€™è£¡ç°¡å–®è™•ç†ï¼Œé€šç”¨æ‰€æœ‰ç›®æ¨™)
                for _, v in pairs(workspace:GetDescendants()) do
                    if v:IsA("Model") and v:FindFirstChild("Humanoid") and v.Humanoid.Health > 0 and v ~= char then
                        local head = v:FindFirstChild("Head") or v:FindFirstChild("HumanoidRootPart")
                        if head and (head.Position - myPos).Magnitude < dist then
                            dist = (head.Position - myPos).Magnitude
                            target = head
                        end
                    end
                end

                if target then
                    -- æš´åŠ›æ³¨å…¥
                    RegisterAttack:FireServer(0.1)
                    for i = 1, 10 do -- 10 å€æ³¨å…¥å¼·åº¦
                        RegisterHit:FireServer(target, {target})
                    end
                end
            end
        end
    end)
end

local function KillCombat()
    _G.FastAttack = false
    _G.PVP = false
    _G.MOB = false
end

-- --- UI æ§‹å»º --- --

local Tab0 = Lib:CreateTab("è²“å…¬å‘Š", true)
Tab0:AddInfo("ðŸ¾ ä¿®å¾©å®Œæˆ", "FastAttack æ ¸å¿ƒå·²æœ¬åœ°åŒ–ï¼Œä¸€æ»´éƒ½ä¸æœƒæ¼å–”â¤")

local Tab1 = Lib:CreateTab("è²“æˆ°é¬¥", false)
local btnPVP, btnMOB

btnPVP = Tab1:AddButton("æ‰“æž¶æ¨¡å¼ : OFF", function(self)
    _G.PVP = not _G.PVP
    if _G.PVP then
        _G.MOB = false
        if btnMOB then btnMOB.Text = "  åˆ·æ€ªæ¨¡å¼ : OFF" end
        _G.FastAttack = true
        StartFastAttack() -- åŸ·è¡Œæœ¬åœ°æ³¨å…¥
    else
        KillCombat()
    end
    self.Text = "  æ‰“æž¶æ¨¡å¼ : " .. (_G.PVP and "ON" or "OFF")
end)

btnMOB = Tab1:AddButton("åˆ·æ€ªæ¨¡å¼ : OFF", function(self)
    _G.MOB = not _G.MOB
    if _G.MOB then
        _G.PVP = false
        if btnPVP then btnPVP.Text = "  æ‰“æž¶æ¨¡å¼ : OFF" end
        _G.FastAttack = true
        StartFastAttack() -- åŸ·è¡Œæœ¬åœ°æ³¨å…¥
    else
        KillCombat()
    end
    self.Text = "  åˆ·æ€ªæ¨¡å¼ : " .. (_G.MOB and "ON" or "OFF")
end)

-- å…¶ä»–åŠŸèƒ½ä¿ç•™
local Tab2 = Lib:CreateTab("è²“åŠŸèƒ½", false)
Tab2:AddButton("è²“è²“ç¥žé€Ÿ", function() loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOSPD"))() end)
Tab2:AddButton("è²“è²“é€è¦–", function() loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOESP"))() end)

local Tab3 = Lib:CreateTab("è²“å¬å–š", false)
Tab3:AddButton("å¬å–šé£›è¡Œ", function() loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOFly"))() end)

print("âœ… NEKO HUB ä¿®å¾©è¼‰å…¥å™¨å·²å•Ÿå‹•ï¼Œä¸»äººï¼Œè«‹ç›¡æƒ…é ‚ç©¿å°æ‰‹ã€‚")
