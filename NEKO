-- [[ 1. å®‰å…¨å¬å–š UI æ¡†æ¶ ]]
local success, NEKOLib = pcall(function()
    return loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOUI?t="..tick()))()
end)
if not success or not NEKOLib then return end

local Lib = NEKOLib:Init()
local player = game:GetService("Players").LocalPlayer

-- [[ 2. å…¨åŸŸé–‹é—œè®Šæ•¸ ]]
_G.PVP = false
_G.MOB = false
_G.AutoV4 = false
_G.ESP = false

-- è¨˜éŒ„æ˜¯å¦å·²è¼‰å…¥éå…§å®¹ (é˜²æ­¢é‡è¤‡ loadstring)
local Loaded = { PVP = false, MOB = false, V4 = false, ESP = false }

-- --- [[ 3. å»ºç«‹åˆ†é  ]] --- --
local Tab0 = Lib:CreateTab("è²“å…¬å‘Š", false)
local Tab1 = Lib:CreateTab("è²“æˆ°é¬¥", false)
local Tab2 = Lib:CreateTab("è²“åŠŸèƒ½", false)
local Tab3 = Lib:CreateTab("è²“å¬å–š", false)

-- --- [[ 4. è²“å…¬å‘Š (Tab0) ]] --- --
Tab0:AddLabel("ğŸ“¢ NEKO ç³»çµ±ç‹€æ…‹ï¼šé‹è¡Œæ­£å¸¸")
Tab0:AddLabel("âš ï¸ æç¤ºï¼šæˆ°é¬¥æ¨¡å¼ä¸å¯åŒæ™‚é–‹å•Ÿ")

-- --- [[ 5. è²“æˆ°é¬¥ (Tab1) - æ ¸å¿ƒé–‹é—œé‚è¼¯ ]] --- --
local btnPVP, btnMOB

btnPVP = Tab1:AddButton("æ‰“æ¶æ¨¡å¼ : OFF", function(self)
    _G.PVP = not _G.PVP
    if _G.PVP then
        _G.MOB = false -- å¼·åˆ¶é—œé–‰åˆ·æ€ª
        if btnMOB then btnMOB.Text = "åˆ·æ€ªæ¨¡å¼ : OFF" end
        
        if not Loaded.PVP then
            Loaded.PVP = true
            task.spawn(function()
                pcall(function() loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOPVP?t="..tick()))() end)
            end)
        end
    end
    self.Text = "æ‰“æ¶æ¨¡å¼ : " .. (_G.PVP and "ON" or "OFF")
end)

btnMOB = Tab1:AddButton("åˆ·æ€ªæ¨¡å¼ : OFF", function(self)
    _G.MOB = not _G.MOB
    if _G.MOB then
        _G.PVP = false -- å¼·åˆ¶é—œé–‰æ‰“æ¶
        if btnPVP then btnPVP.Text = "æ‰“æ¶æ¨¡å¼ : OFF" end
        
        if not Loaded.MOB then
            Loaded.MOB = true
            task.spawn(function()
                pcall(function() loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOMOB?t="..tick()))() end)
            end)
        end
    end
    self.Text = "åˆ·æ€ªæ¨¡å¼ : " .. (_G.MOB and "ON" or "OFF")
end)

-- --- [[ 6. è²“åŠŸèƒ½ (Tab2) - é–‹é—œèˆ‡è¼‰å…¥ ]] --- --

-- è‡ªå‹• V4 é–‹é—œ
Tab2:AddButton("è‡ªå‹• V4 : OFF", function(self)
    _G.AutoV4 = not _G.AutoV4
    if _G.AutoV4 and not Loaded.V4 then
        Loaded.V4 = true
        task.spawn(function()
            pcall(function() loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOV4"))() end)
        end)
    end
    self.Text = "è‡ªå‹• V4 : " .. (_G.AutoV4 and "ON" or "OFF")
end)

-- è²“é€è¦–é–‹é—œ
Tab2:AddButton("è²“é€è¦– (ESP) : OFF", function(self)
    _G.ESP = not _G.ESP
    if _G.ESP and not Loaded.ESP then
        Loaded.ESP = true
        task.spawn(function()
            pcall(function() loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOESP"))() end)
        end)
    end
    self.Text = "è²“é€è¦– (ESP) : " .. (_G.ESP and "ON" or "OFF")
end)

-- --- [[ 7. è²“å¬å–š (Tab3) - ç´”å¬å–šé‚è¼¯ ]] --- --

Tab3:AddButton("å¬å–šï¼šè²“è²“ç¥é€Ÿ", function() 
    task.spawn(function()
        pcall(function() loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOSPD?t="..tick()))() end)
    end)
end)

Tab3:AddButton("å¬å–šï¼šè²“è²“é£›è¡Œ", function() 
    task.spawn(function()
        pcall(function() loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOFly"))() end)
    end)
end)

-- --- [[ 8. ç³»çµ±èƒŒæ™¯ä»»å‹™ ]] --- --
task.spawn(function()
    while true do
        pcall(function() player.CameraMaxZoomDistance = 1000 end)
        task.wait(5)
    end
end)
