-- [[ ðŸ¾ è²“è²“æ ¸å¿ƒåŠŸèƒ½ (NEKOOOOO) - 2026 æˆ°é¬¥é‚è¼¯æ¨¡çµ„ ðŸ¾ ]] --
-- ä¿æŒåŽŸæœ‰æŽ¥å£ï¼š_G.NekoRunning, _G.NekoAttack, _G.FruitAttack, _G.Settings

local player = game:GetService("Players").LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera

local Character = player.Character or player.CharacterAdded:Wait()
player.CharacterAdded:Connect(function(newChar) Character = newChar end)

-- âœ¨ [è¦–é‡Žèˆ‡é¡é ­ä¿®æ­£] (ä¿æŒä¸è®Š)
task.spawn(function()
    while true do
        if _G.NekoRunning then
            pcall(function()
                if Camera and _G.Settings then
                    Camera.FieldOfView = _G.Settings.FOV
                    player.CameraMaxZoomDistance = _G.Settings.ZoomDist
                end
            end)
        end
        task.wait(0.5)
    end
end)

-- âœ¨ [çµ²æ»‘åŠ é€Ÿ] (ä¿æŒä¸è®Š)
RunService.Heartbeat:Connect(function()
    if not _G.NekoRunning or not _G.Settings or not _G.Settings.SpeedEnabled then return end
    if Character and Character:FindFirstChild("Humanoid") then
        local hum = Character.Humanoid
        if hum.MoveDirection.Magnitude > 0 then
            Character:TranslateBy(hum.MoveDirection * (_G.Settings.CatSpeedValue / 10))
        end
    end
end)

-- âœ¨ [æˆ°é¬¥å¾ªç’° Aï¼šç¥žåˆ€ - åˆé«”é€²åŒ–ç‰ˆ]
task.spawn(function()
    while true do
        if _G.NekoRunning and _G.NekoAttack and _G.Settings and _G.Settings.Mode ~= "None" then
            pcall(function()
                local root = Character:FindFirstChild("HumanoidRootPart")
                local tool = Character:FindFirstChildOfClass("Tool")
                
                -- æ ¸å¿ƒå¼·åŒ–ï¼šæª¢æŸ¥æ˜¯å¦è£å‚™äº†è¿‘æˆ°æ­¦å™¨ (ToolTip æŽ’é™¤ Gun)
                if not (root and tool and tool.ToolTip ~= "Gun") then
                    task.wait(0.1) return 
                end

                local Net = ReplicatedStorage:FindFirstChild("Modules") and ReplicatedStorage.Modules:FindFirstChild("Net")
                if not Net then return end

                local NekoTargets, NekoPart = {}, nil
                
                local function Scan(folder, isPlayers)
                    if not folder then return end
                    for _, obj in ipairs(folder:GetChildren()) do
                        local enemyChar = isPlayers and obj.Character or obj
                        if enemyChar and enemyChar ~= Character then
                            local eH = enemyChar:FindFirstChildOfClass("Humanoid")
                            -- æ ¸å¿ƒå¼·åŒ–ï¼šå„ªå…ˆåˆ¤å®š Headï¼Œæ²’ Head æ‰æ‰¾ Rootï¼Œæé«˜å‘½ä¸­çŽ‡
                            local eR = enemyChar:FindFirstChild("Head") or enemyChar:FindFirstChild("HumanoidRootPart")
                            
                            if eH and eH.Health > 0 and eR then
                                local dist = (eR.Position - root.Position).Magnitude
                                if dist < _G.Settings.Distance then
                                    -- æ‹‰æ€ªåŠŸèƒ½ (ç¶­æŒåŽŸé‚è¼¯)
                                    if _G.Settings.PullEnemies and not isPlayers then 
                                        local targetRoot = enemyChar:FindFirstChild("HumanoidRootPart")
                                        if targetRoot then targetRoot.CFrame = root.CFrame * CFrame.new(0, 0, -3) end
                                    end
                                    
                                    -- è¨˜éŒ„é¦–å€‹ç›®æ¨™éƒ¨ä½èˆ‡ç›®æ¨™æ¸…å–®
                                    NekoPart = eR
                                    table.insert(NekoTargets, {enemyChar, eR})
                                end
                            end
                        end
                    end
                end

                -- åŸ·è¡ŒæŽƒæ
                Scan(workspace:FindFirstChild("Enemies") or workspace, false)
                if _G.Settings.Mode == "All" then Scan(game:GetService("Players"), true) end
                
                -- åŸ·è¡Œæ”»æ“Šå°åŒ…
                if NekoPart and #NekoTargets > 0 then 
                    Net["RE/RegisterAttack"]:FireServer(_G.Settings.ClickDelay or 0)
                    Net["RE/RegisterHit"]:FireServer(NekoPart, NekoTargets) 
                end
            end)
        end
        task.wait(_G.Settings and _G.Settings.ClickDelay or 0.1)
    end
end)

-- âœ¨ [æˆ°é¬¥å¾ªç’° Bï¼šæžœå¯¦] (ä¿æŒä¸è®Š)
task.spawn(function()
    while true do
        if _G.NekoRunning and _G.FruitAttack and _G.Settings then
            pcall(function()
                local root = Character:FindFirstChild("HumanoidRootPart")
                local tool = Character:FindFirstChildOfClass("Tool")
                if root and tool then
                    local target, dist = nil, _G.Settings.Distance
                    local enemies = workspace:FindFirstChild("Enemies") or workspace
                    for _, v in ipairs(enemies:GetChildren()) do
                        local eH, eR = v:FindFirstChildOfClass("Humanoid"), v:FindFirstChild("HumanoidRootPart")
                        if eH and eH.Health > 0 and eR and v ~= Character then
                            local m = (eR.Position - root.Position).Magnitude
                            if m < dist then dist = m; target = eR end
                        end
                    end
                    if target then
                        root.CFrame = CFrame.new((target.CFrame * CFrame.new(0, _G.Settings.FruitHeight, -3)).p, target.Position)
                        local Net = ReplicatedStorage:FindFirstChild("Modules") and ReplicatedStorage.Modules:FindFirstChild("Net")
                        if Net then
                            Net["RE/RegisterAttack"]:FireServer()
                            Net["RE/RegisterHit"]:FireServer(target, {{target.Parent, target}})
                            tool:Activate()
                        end
                    end
                end
            end)
        end
        task.wait(_G.Settings and _G.Settings.FruitDelay or 0.5)
    end
end)

-- âœ¨ [è‡ªå‹• V4] (ä¿æŒä¸è®Š)
task.spawn(function()
    while true do
        if _G.NekoRunning and _G.AutoV4 and Character then
            pcall(function()
                local awake = Character:FindFirstChild("Awakening") or player.Backpack:FindFirstChild("Awakening")
                if awake and awake:FindFirstChild("RemoteFunction") then 
                    awake.RemoteFunction:InvokeServer(true) 
                end
            end)
        end
        task.wait(1)
    end
end)

print("ðŸ¾ NEKOOOOO æ ¸å¿ƒå„ªåŒ–ç‰ˆå·²åŠ è¼‰ï¼ç¥žåˆ€åŠŸèƒ½å·²å¼·åŒ–ã€‚")
