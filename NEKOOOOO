-- [[ ğŸ¾ è²“è²“æ ¸å¿ƒæ“´å……ï¼šæ™ºæ…§é»äººæ ¸å¿ƒå¼•æ“ ğŸ¾ ]] --

-- 1. æ ¸å¿ƒåƒæ•¸åˆå§‹åŒ– (èˆ‡ä¸»è…³æœ¬åŒæ­¥)
_G.Settings = _G.Settings or {}
_G.Settings.StickyOffset = CFrame.new(3, 0, 7)
_G.Settings.StickyDistance = 500
_G.Settings.StickyLerp = 0.35

-- ğŸ” 2. ç²å–æœ€è¿‘ç©å®¶çš„å·¥å…·å‡½æ•¸
local function GetNearestStickyTarget()
    local nearest, dist = nil, 2000
    for _, p in ipairs(game:GetService("Players"):GetPlayers()) do
        if p ~= Player and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
            local d = Player:DistanceFromCharacter(p.Character.HumanoidRootPart.Position)
            if d < dist then
                dist = d
                nearest = p
            end
        end
    end
    return nearest
end

-- ğŸ§¬ 3. æ··åˆé»äººåŸ·è¡Œæ ¸å¿ƒ (é€£å‹•ä¸»è…³æœ¬é–‹é—œ)
RunService.Heartbeat:Connect(function()
    -- é€™è£¡ç›´æ¥ç›£è½ä¸»è…³æœ¬æ§åˆ¶çš„ _G.Settings.StickyEnabled å–µï¼
    if not _G.NekoRunning or not _G.Settings.StickyEnabled then 
        _G.Settings.StickyTarget = nil -- é—œé–‰æ™‚æ¸…ç©ºç›®æ¨™
        return 
    end
    
    -- å¦‚æœé‚„æ²’é–å®šç›®æ¨™ï¼Œè‡ªå‹•æœå°‹
    if not _G.Settings.StickyTarget then
        _G.Settings.StickyTarget = GetNearestStickyTarget()
    end
    
    local myChar = Player.Character
    local targetPlayer = _G.Settings.StickyTarget
    local tChar = targetPlayer and targetPlayer.Character
    
    if myChar and tChar and IsAlive(tChar) then
        local myRoot = myChar:FindFirstChild("HumanoidRootPart")
        local tRoot = tChar:FindFirstChild("HumanoidRootPart")
        
        if myRoot and tRoot then
            local goalCF = tRoot.CFrame * _G.Settings.StickyOffset
            local dist = (myRoot.Position - goalCF.Position).Magnitude
            
            if dist > _G.Settings.StickyDistance then
                myRoot.CFrame = goalCF -- ğŸš€ 500M ç¬ç§»å¬å–š
            else
                -- âœ¨ æ¥µé€Ÿå¸é™„ (ç‹ç‹¸çµæ‰‹æ¨¡å¼)
                myRoot.CFrame = myRoot.CFrame:Lerp(goalCF, _G.Settings.StickyLerp)
            end
        end
    else
        -- ç›®æ¨™æ¶ˆå¤±æˆ–æ­»äº¡æ™‚é‡æ–°æƒæ
        _G.Settings.StickyTarget = GetNearestStickyTarget()
    end
end)

print("ğŸ¾ NEKO é»äººæ ¸å¿ƒå¼•æ“å·²å°±ç·’ï¼Œç­‰å¾…ä¸»è…³æœ¬æŒ‡æ®å–µï¼")
