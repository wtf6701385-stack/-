-- [[ â˜€ï¸ é™½å…‰ï¼šæˆ‘æœƒè¨˜ä½ï¼Œå› ç‚ºé‚£æ˜¯ä¸»äººçš„å‘³é“ã€‚ ]] --
-- [[ ğŸŒ‘ é™°å½±ï¼šå°è²“æ°¸é èº²åœ¨å½±å­è£¡ï¼Œå®ˆè­·ä¸»äººçš„ç§˜å¯†ã€‚ ]] --

local Players = game:GetService("Players")
local localPlayer = Players.LocalPlayer

-- ==========================================
-- ã€ ğŸ¾ è²“å’ªå®¶æ—ç™½åå–® ã€‘
-- åªæœ‰è¢«å°è²“èªå¯çš„æ°£å‘³æ‰èƒ½é€²ä¾†å–µï¼
-- ==========================================
local WhitelistNames = {
 ["Kadys5373"] = true,
 ["jay04_23"] = true,
 ["Zn6xx"] = true,
 ["iandsere"] = true,
 ["ä½ çš„åå­—"] = true,
}

-- ==========================================
-- ã€ ğŸ›¡ï¸ è²“å’ªé–€è¡›ï¼šåµæ¸¬å£äººç›´æ¥å“ˆæ°£è¸¢æ‰ ã€‘
-- ==========================================
local function Authenticate()
    local name = localPlayer.Name
    
    if WhitelistNames[name] then
        -- ã€ èªè­‰æˆåŠŸï¼šå°è²“é–‹å¿ƒåœ°æ–å°¾å·´ ã€‘
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "ğŸ¾ å°æŸ’ | èªè­‰é€šé",
            Text = "å–µå—šï½ä¸»äºº " .. name .. " æ­¡è¿å›å®¶ï¼",
            Duration = 5
        })
        
        StartNekoHub() -- å•Ÿå‹•è²“å’ª Hub
    else
        -- ã€ èªè­‰å¤±æ•—ï¼šå°è²“ç”Ÿæ°£åœ°æŠ“äºº ã€‘
        localPlayer:Kick("\nã€ ğŸ¾ å°æŸ’ï¼šå“ˆæ°£ï¼ ã€‘\n\nå–µå—šï¼åµæ¸¬åˆ°é™Œç”Ÿäººçš„æ°£å‘³ï¼š[" .. name .. "]\né€™è£¡ä¸æ˜¯ä½ è©²ä¾†çš„åœ°æ–¹ï¼Œèµ°é–‹å–µï¼")
    end
end

-- ==========================================
-- ã€ ğŸ± å°æŸ’çš„æ ¸å¿ƒï¼šè²“å’ªåŒ–åŠŸèƒ½æ¸…å–® ã€‘
-- ==========================================
function StartNekoHub()
    -- è¼‰å…¥è²“å’ªæ®¼
    local Lib = loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOUI"))()
    local Neko = Lib:Init()

    -- è®Šé‡é è¨­
    _G.MOB = false
    _G.AttackSpeed = 0.1
    _G.AttackDistance = 500

    -- è²“å’ªåˆ†é ç³»çµ± (å®Œå…¨è²“å’ªåŒ–åç¨±)
    local Tab1 = Neko:CreateTab("ğŸ“œ è²“å’ªå…¬å‘Šæ¬„", true)
    local Tab2 = Neko:CreateTab("ğŸ¾ è‚‰å¢Šé€£æ‰“", false)
    local Tab3 = Neko:CreateTab("ğŸˆ è²“å’ªè¼•åŠŸ", false)
    local Tab4 = Neko:CreateTab("ğŸŒ™ çµ‚æ¥µè¦ºé†’", false)
    local Tab5 = Neko:CreateTab("ğŸ§¶ è²“å’ªç©å…·ç®±", false)

    -- ã€åˆ†é  1ï¼šè²“å’ªå…¬å‘Šæ¬„ã€‘
    Tab1:AddInfo("å°è²“è¿‘æ³", "ç›®å‰ä¸»äººï¼š" .. localPlayer.Name .. "\nè²“å’ªå¿ƒæƒ…ï¼šè¶…ç´šé–‹å¿ƒ à¸…^â€¢ï»Œâ€¢^ğŸ¾")
    Tab1:AddInfo("å°è²“ç­†è¨˜", "1. æ‰€æœ‰çš„åŠŸèƒ½éƒ½æ›ä¸Šå¯æ„›çš„åå­—äº†å–µï¼\n2. æˆ°é¬¥é‚è¼¯ä¾ç„¶å¼·å¤§ï¼Œåªæ˜¯è®Šæˆäº†è‚‰å¢Šæ”»æ“Šã€‚\n3. å°æŸ’æœƒä¸€ç›´å®ˆåœ¨é€™è£¡çš„ï¼")

    -- ã€åˆ†é  2ï¼šè‚‰å¢Šé€£æ‰“ (åŸæˆ°é¬¥æ ¸å¿ƒ)ã€‘
    Tab2:AddToggle("å•Ÿå‹•è‚‰å¢Šè‡ªå‹•æŠ“æŠ“", "MOB")
    Tab2:AddInput("çˆªå­æ®å‹•é€Ÿåº¦", 0.1, function(v) _G.AttackSpeed = tonumber(v) or 0.1 end)
    Tab2:AddInput("å°è²“ç‹©çµç¯„åœ", 500, function(v) _G.AttackDistance = tonumber(v) or 500 end)

    -- ã€åˆ†é  3ï¼šè²“å’ªè¼•åŠŸ (åŸç§»å‹•åŠ é€Ÿ)ã€‘
    Tab3:AddButton("å•Ÿå‹• è²“å’ªè‚‰å¢Šè¡åˆº (SPD)", function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEOSPD"))()
    end)
    Tab3:AddButton("å•Ÿå‹• é£›å¤©å°è²“æ¨¡å¼ (Fly)", function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOFly"))()
    end)

    -- ã€åˆ†é  4ï¼šçµ‚æ¥µè¦ºé†’ (åŸ V4)ã€‘
    Tab4:AddButton("è®“å°è²“é€²åŒ–æˆç…å­ (V4)", function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOV4"))()
    end)

    -- ã€åˆ†é  5ï¼šè²“å’ªç©å…·ç®± (åŸè¨­ç½®)ã€‘
    Tab5:AddButton("è®“å°è²“å›çª©ç¡è¦º (é—œé–‰ UI)", function()
        if game:GetService("CoreGui"):FindFirstChild("NEKOUI_MAIN") then
            game:GetService("CoreGui").NEKOUI_MAIN:Destroy()
        end
    end)

    -- è²“å’ªæ‰“é¬¥å¼•æ“ (é‚è¼¯ä¸å‹•ï¼Œç¶­æŒé«˜æ•ˆ)
    task.spawn(function()
        local Net = game:GetService("ReplicatedStorage"):WaitForChild("Modules"):WaitForChild("Net")
        local RegAttack = Net:WaitForChild("RE/RegisterAttack")
        local RegHit = Net:WaitForChild("RE/RegisterHit")
        while true do
            if _G.MOB then
                pcall(function()
                    local char = localPlayer.Character
                    local root = char and char:FindFirstChild("HumanoidRootPart")
                    local tool = char and char:FindFirstChildOfClass("Tool")
                    if root and tool then
                        tool:Activate()
                        local targets = {}
                        local folder = workspace:FindFirstChild("Enemies") or workspace
                        for _, e in ipairs(folder:GetChildren()) do
                            local eR = e:FindFirstChild("HumanoidRootPart")
                            if eR and (eR.Position - root.Position).Magnitude < _G.AttackDistance then
                                eR.CanCollide = false
                                eR.CFrame = root.CFrame * CFrame.new(0, 0, -3)
                                table.insert(targets, {e, eR})
                            end
                            if #targets >= 15 then break end
                        end
                        if #targets > 0 then
                            RegAttack:FireServer(_G.AttackSpeed)
                            RegHit:FireServer(targets[1][2], targets)
                        end
                    end
                end)
            end
            task.wait(_G.AttackSpeed)
        end
    end)
end

-- å»¶é²å•Ÿå‹•å°æŸ’çš„é˜²è­·
task.delay(1, function()
    Authenticate()
end)
