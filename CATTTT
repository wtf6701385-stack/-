-- [[ ğŸ¾ è²“è²“è…³æœ¬ (CAT SCRIPT) - ä¸»é‚è¼¯ ğŸ¾ ]] --
-- æ ¸å¿ƒç·¨ç¢¼ï¼šè²“è²“è£½ä½œ
-- UI æ¡†æ¶ï¼šèª¿ç”¨è‡ª GitHub (NEKOUI)

-- 1. è¼‰å…¥ä¸»äººæŒ‡å®šçš„ UI æ¡†æ¶
local NekoLib = loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOUI"))()
local myUI, screenGui = NekoLib.new("è²“è²“è…³æœ¬")

-- 2. ç²å–æœå‹™
local Players = game:GetService("Players")
local localPlayer = Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Camera = workspace.CurrentCamera
local RunService = game:GetService("RunService")

-- 3. è¨­å®šåˆå§‹å€¼
local Settings = { 
    ClickDelay = 0.1,
    Distance = 1500,
    PullEnemies = false,
    Mode = "None",
    FOV = 70,
    ZoomDist = 128,
    WalkSpeed = 50,
    SpeedEnabled = false
}

_G.NekoAttack = false
_G.NekoV4 = false
_G.NekoRunning = true

-- 4. å»ºç«‹è²“çˆªé–‹é—œæŒ‰éˆ• (ä¸»è…³æœ¬å‰µé€ )
local MiniBtn = Instance.new("TextButton", screenGui)
MiniBtn.Size = UDim2.new(0, 50, 0, 50)
MiniBtn.Position = UDim2.new(0, 15, 0.5, -25) -- æ”¾åœ¨å·¦å´ä¸­é–“
MiniBtn.Text = "ğŸ¾"
MiniBtn.TextSize = 30
MiniBtn.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
MiniBtn.BackgroundTransparency = 0.3
MiniBtn.TextColor3 = Color3.fromRGB(255, 120, 180)
Instance.new("UICorner", MiniBtn).CornerRadius = UDim.new(1, 0)

-- èª¿ç”¨æ¡†æ¶çš„æ‹–æ‹½åŠŸèƒ½è®“æŒ‰éˆ•å¯ç§»å‹•
myUI:AddDrag(MiniBtn)

MiniBtn.MouseButton1Click:Connect(function()
    myUI:Toggle()
end)

-- ==========================================
-- ã€ âš”ï¸ è²“è²“åŠŸèƒ½æ¨¡çµ„ ã€‘
-- ==========================================

-- [ åˆ†é ï¼šæˆ°é¬¥ ]
local Tab1 = myUI:Tab("æˆ°é¬¥ç³»çµ±")
local Sec1 = Tab1:Section("è²“è²“ç¥åˆ€")

Sec1:Toggle("ç¥åˆ€é€£æ“Š", function(s) _G.NekoAttack = s end)
Sec1:Toggle("è²“æŠ“æ‹‰æ€ª", function(s) Settings.PullEnemies = s end)
Sec1:Toggle("è‡ªå‹•è¦ºé†’", function(s) _G.NekoV4 = s end)
Sec1:Textbox("æŠ“æ•ç¯„åœ", "1500", function(v) Settings.Distance = tonumber(v) or 1500 end)
Sec1:Button("æ¨¡å¼ï¼šå°æ€ª", function() Settings.Mode = "Mob" end)
Sec1:Button("æ¨¡å¼ï¼šå…¨å ´", function() Settings.Mode = "All" end)
Sec1:Button("æ”¶çˆªä¼‘æ¯", function() Settings.Mode = "None" end)

-- [ åˆ†é ï¼šè¦–è¦º ]
local Tab2 = myUI:Tab("è²“çœ¼è¦–è¦º")
local Sec2 = Tab2:Section("ç’°å¢ƒèª¿æ•´")

Sec2:Textbox("è¦–é‡è§’åº¦(1-120)", "70", function(v) Settings.FOV = tonumber(v) or 70 end)
Sec2:Textbox("æœ€å¤§è¦–è·", "128", function(v) Settings.ZoomDist = tonumber(v) or 128 end)

-- [ åˆ†é ï¼šç§»å‹• ]
local Tab3 = myUI:Tab("è²“è²“ç§»å‹•")
local Sec3 = Tab3:Section("ä½ç§»æ§åˆ¶")

Sec3:Toggle("åŠ é€Ÿé–‹é—œ", function(s) Settings.SpeedEnabled = s end)
Sec3:Textbox("åŠ é€Ÿå€¼", "50", function(v) Settings.WalkSpeed = tonumber(v) or 50 end)
Sec3:Button("å‚³é€ï¼šç¬¬ä¸€æµ·åŸŸ", function() ReplicatedStorage.Remotes.CommF_:InvokeServer("TravelMain") end)
Sec3:Button("å‚³é€ï¼šç¬¬äºŒæµ·åŸŸ", function() ReplicatedStorage.Remotes.CommF_:InvokeServer("TravelDressrosa") end)
Sec3:Button("å‚³é€ï¼šç¬¬ä¸‰æµ·åŸŸ", function() ReplicatedStorage.Remotes.CommF_:InvokeServer("TravelZou") end)

-- ==========================================
-- ã€ ğŸš€ æ ¸å¿ƒé‚è¼¯å¾ªç’° ã€‘
-- ==========================================

-- è²“è²“ç¥åˆ€é‚è¼¯ (å¼•ç”¨ä½ æä¾›çš„æ ¸å¿ƒ)
local function GetNekoValidPart(target)
    local allParts = target:GetDescendants()
    local validParts = {}
    for _, part in ipairs(allParts) do
        if part:IsA("BasePart") and part.CanCollide and part:IsDescendantOf(target) then
            table.insert(validParts, part)
        end
    end
    return #validParts > 0 and validParts[math.random(1, #validParts)] or target:FindFirstChild("HumanoidRootPart")
end

task.spawn(function()
    while _G.NekoRunning do
        pcall(function()
            -- 1. æˆ°é¬¥
            if _G.NekoAttack and Settings.Mode ~= "None" then
                local char = localPlayer.Character
                local root = char and char:FindFirstChild("HumanoidRootPart")
                local Net = ReplicatedStorage:FindFirstChild("Modules") and ReplicatedStorage.Modules:FindFirstChild("Net")
                local RegHit = Net and Net:FindFirstChild("RE/RegisterHit")
                local RegAttack = Net and Net:FindFirstChild("RE/RegisterAttack")
                
                if root and RegHit then
                    local NekoTargets = {}
                    local NekoPart = nil
                    
                    local function Scan(folder, isPlayers)
                        for _, obj in ipairs(folder:GetChildren()) do
                            local enemyChar = isPlayers and obj.Character or obj
                            if enemyChar and enemyChar ~= char then
                                local eH = enemyChar:FindFirstChildOfClass("Humanoid")
                                local eR = enemyChar:FindFirstChild("HumanoidRootPart")
                                if eH and eH.Health > 0 and eR and (eR.Position - root.Position).Magnitude < Settings.Distance then
                                    if Settings.PullEnemies and not isPlayers then
                                        eR.CanCollide = false
                                        eR.CFrame = root.CFrame * CFrame.new(0, 0, -3)
                                    end
                                    local part = GetNekoValidPart(enemyChar)
                                    if part then NekoPart = part; table.insert(NekoTargets, {enemyChar, part}) end
                                end
                            end
                            if #NekoTargets >= 15 then break end
                        end
                    end
                    Scan(workspace:FindFirstChild("Enemies") or workspace, false)
                    if Settings.Mode == "All" then Scan(Players, true) end
                    if NekoPart then 
                        RegAttack:FireServer(Settings.ClickDelay)
                        RegHit:FireServer(NekoPart, NekoTargets) 
                    end
                end
            end
            
            -- 2. åŠ é€Ÿ
            if Settings.SpeedEnabled and localPlayer.Character and localPlayer.Character:FindFirstChild("Humanoid") then
                local hum = localPlayer.Character.Humanoid
                if hum.MoveDirection.Magnitude > 0 then
                    localPlayer.Character:TranslateBy(hum.MoveDirection * (Settings.WalkSpeed / 40))
                end
            end
            
            -- 3. è¦–è¦º
            Camera.FieldOfView = math.clamp(Settings.FOV, 1, 120)
            localPlayer.CameraMaxZoomDistance = Settings.ZoomDist
        end)
        task.wait(Settings.ClickDelay)
    end
end)

-- é€šçŸ¥è¼‰å…¥æˆåŠŸ
game:GetService("StarterGui"):SetCore("SendNotification", {
    Title = "ğŸ¾ è²“è²“è…³æœ¬",
    Text = "è²“è²“è£½ä½œï¼ŒåŠŸèƒ½å·²å°æ¥ NEKOUI å–µ~",
    Duration = 5
})
