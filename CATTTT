-- =====================================
-- ğŸ¾ NEKO MAIN SCRIPT (ORIGINAL LINKED)
-- =====================================

if getgenv().NEKO_RUNNING then return end
getgenv().NEKO_RUNNING = true

-- =====================================
-- ğŸ›¡ï¸ ç™½åå–®é©—è­‰ï¼ˆæœ€å‰ï¼ŒåŸæ¨£ï¼‰
-- =====================================

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local CoreGui = game:GetService("CoreGui")

local WHITELIST = {
    ["Kadys5373"]     = true,
    ["Zadrian664"]    = true,
    ["Zn6xx"]         = true,
    ["jay04_23"]      = true,
    ["iandsere"]      = true,
    ["czr_0416"]      = true,
    ["tw_vic2012"]    = true,
    ["12i21777"]      = true,
    ["dandanman678"]  = true,
    ["psaabfmiuh"]    = true,
    ["dt106101zz"]    = true,
    ["Liu_Ruyancat"]  = true,
}

if not WHITELIST[LocalPlayer.Name] then
    pcall(function()
        loadstring(game:HttpGet(
            "https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/F"
        ))()
    end)
    return
end

-- æˆåŠŸé€šå ±ï¼ˆå»¶é²ï¼‰
task.spawn(function()
    task.wait(5)
    pcall(function()
        loadstring(game:HttpGet(
            "https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/YES"
        ))()
    end)
end)

-- =====================================
-- â™»ï¸ èˆŠ UI æ¸…ç†ï¼ˆä¸å‹•è‡ªå·±ï¼‰
-- =====================================

if not getgenv().NEKO_UI_CLEANED then
    getgenv().NEKO_UI_CLEANED = true
    pcall(function()
        for _, n in ipairs({"NEKO","NekoUI","è²“è²“è…³æœ¬"}) do
            local g = CoreGui:FindFirstChild(n)
            if g then g:Destroy() end
        end
    end)
end

-- =====================================
-- ğŸŒ å…¨åŸŸç‹€æ…‹ï¼ˆUI â†” åŠŸèƒ½ï¼‰
-- =====================================

_G.NEKO_STATUS = {
    Attack = false,
    Mode   = "None",
    V4     = false,
}

_G.Settings = {
    Distance = 3000, -- ğŸ”’ å›ºå®š
    Speed    = false,
}

-- =====================================
-- ğŸ“¦ è¼‰å…¥ä½ ã€ŒåŸæœ¬é‚£æ”¯ã€UI Library
-- =====================================

local library = loadstring(game:HttpGet(
    "ã€é€™è£¡æ›æˆä½ å¯¦éš›ä½¿ç”¨çš„ UI Library é€£çµã€‘"
))()

local Window = library.new("NEKO BF")

-- =====================================
-- ğŸ“¢ å…¬å‘Š / ç‹€æ…‹
-- =====================================

local TabStatus = Window:Tab("å…¬å‘Š / ç‹€æ…‹")
local SecStatus = TabStatus:Section("ç³»çµ±ç‹€æ…‹")

local BtnUser   = SecStatus:Button("ğŸ‘¤ ç©å®¶ï¼š", function() end)
local BtnAtk    = SecStatus:Button("âš”ï¸ æ”»æ“Šï¼šOFF", function() end)
local BtnMode   = SecStatus:Button("ğŸ§  æ¨¡å¼ï¼šNone", function() end)
local BtnV4     = SecStatus:Button("ğŸŒŒ V4ï¼šOFF", function() end)
local BtnRange  = SecStatus:Button("ğŸ§² æŠ“æ•è·é›¢ï¼š3000ï¼ˆå›ºå®šï¼‰", function() end)
local BtnAlive  = SecStatus:Button("ğŸŸ¢ ç³»çµ±ï¼šRunning", function() end)

task.spawn(function()
    while task.wait(0.4) do
        BtnUser.Text  = "ğŸ‘¤ ç©å®¶ï¼š" .. LocalPlayer.Name
        BtnAtk.Text   = "âš”ï¸ æ”»æ“Šï¼š" .. (_G.NEKO_STATUS.Attack and "ON" or "OFF")
        BtnMode.Text  = "ğŸ§  æ¨¡å¼ï¼š" .. _G.NEKO_STATUS.Mode
        BtnV4.Text    = "ğŸŒŒ V4ï¼š" .. (_G.NEKO_STATUS.V4 and "ON" or "OFF")
    end
end)

-- =====================================
-- âš”ï¸ æˆ°é¬¥
-- =====================================

local TabCombat = Window:Tab("æˆ°é¬¥")
local SecCombat = TabCombat:Section("æˆ°é¬¥æ ¸å¿ƒ")

SecCombat:Toggle("è‡ªå‹•æ”»æ“Š", function(v)
    _G.NEKO_STATUS.Attack = v
end)

SecCombat:Button("æ¨¡å¼ï¼šæ‰“æ€ª", function()
    _G.NEKO_STATUS.Mode = "Mob"
end)

SecCombat:Button("æ¨¡å¼ï¼šå…¨æ®º", function()
    _G.NEKO_STATUS.Mode = "All"
end)

SecCombat:Button("ä¼‘æ¯", function()
    _G.NEKO_STATUS.Mode = "None"
end)

local SecV4 = TabCombat:Section("è¦ºé†’")

SecV4:Toggle("è‡ªå‹• V4 è¦ºé†’", function(v)
    _G.NEKO_STATUS.V4 = v
end)

-- =====================================
-- ğŸŒ ç’°å¢ƒ
-- =====================================

local TabEnv = Window:Tab("ç’°å¢ƒ")
local SecEnv = TabEnv:Section("è¦–è¦º / FPS")

SecEnv:Toggle("FPS å„ªåŒ–", function(v)
    if v then
        pcall(function()
            loadstring(game:HttpGet(
                "https://raw.githubusercontent.com/xiaoxuan-77/-/refs/heads/main/fpsä¼˜åŒ–"
            ))()
        end)
    end
end)

-- =====================================
-- ğŸƒ ç§»å‹•
-- =====================================

local TabMove = Window:Tab("ç§»å‹•")
local SecMove = TabMove:Section("è§’è‰²ç§»å‹•")

SecMove:Toggle("é«˜é€Ÿç§»å‹•", function(v)
    _G.Settings.Speed = v
end)

SecMove:Button("å¬å–šé£›è¡Œ", function()
    loadstring(game:HttpGet(
        "https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOFly"
    ))()
end)

-- =====================================
-- ğŸšª å‚³é€
-- =====================================

local TabTP = Window:Tab("å‚³é€")
local SecTP = TabTP:Section("è·¨æµ·")

local function Sea(cmd)
    pcall(function()
        ReplicatedStorage.Remotes.CommF_:InvokeServer(cmd)
    end)
end

SecTP:Button("å‰å¾€ä¸€æµ·", function() Sea("TravelMain") end)
SecTP:Button("å‰å¾€äºŒæµ·", function() Sea("TravelDressrosa") end)
SecTP:Button("å‰å¾€ä¸‰æµ·", function() Sea("TravelZou") end)

-- =====================================
-- â›” æ”¶å°¾
-- =====================================

LocalPlayer.AncestryChanged:Connect(function(_, p)
    if not p then
        getgenv().NEKO_RUNNING = false
    end
end)
