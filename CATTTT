-- [[ ğŸ¾ NEKO TERMINAL - 2026 STABLE ğŸ¾ ]] --

local Players           = game:GetService("Players")
local localPlayer       = Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")

if getgenv().NEKO_RUNNING then return end
getgenv().NEKO_RUNNING = true

-- =============================================================
-- ğŸ›¡ï¸ 1. ç™½åå–®é©—è­‰ (å‚ç›´æ•´é½Šç‰ˆ)
-- =============================================================
local Whitelist = {
    ["Kadys5373"]    = true,
    ["Zadrian664"]   = true,
    ["Zn6xx"]        = true,
    ["jay04_23"]     = true,
    ["iandsere"]     = true,
    ["czr_0416"]     = true,
    ["tw_vic2012"]   = true,
    ["12i21777"]     = true,
    ["dandanman678"] = true,
    ["psaabfmiuh"]   = true,
    ["dt106101zz"]   = true,
    ["Liu_Ruyancat"] = true,
    ["030501aaaaaaaaaa"] = true -- æ–°å¢æ¸¬è©¦å¸³è™Ÿ
}

if not Whitelist[localPlayer.Name] then
    pcall(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/F"))()
    end)
    return
end

task.spawn(function()
    task.wait(5)
    pcall(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/YES"))()
    end)
end)

-- =============================================================
-- â™»ï¸ 2. ç’°å¢ƒæ¸…ç†
-- =============================================================
local function NuclearClean()
    local CoreGui = game:GetService("CoreGui")
    for _, n in ipairs({"è²“è²“è…³æœ¬", "NEKO", "NekoUI", "NekoTerminal_Lib"}) do
        local o = CoreGui:FindFirstChild(n) or localPlayer.PlayerGui:FindFirstChild(n)
        if o then o:Destroy() end
    end
end
NuclearClean()
task.wait(0.2)

-- =============================================================
-- ğŸ“¦ 3. å…¨å±€è¨­å®š (åŒæ­¥ NEKOOOOO è®Šæ•¸)
-- =============================================================
_G.Settings = {
    ClickDelay    = 0.05,
    Distance      = 3000,
    PullEnemies   = false,
    Mode          = "None", -- "Mob", "All", "None"
    FOV           = 70,
    ZoomDist      = 128,
    CatSpeedValue = 50,
    SpeedEnabled  = false,
    FruitHeight   = 6,
    FruitDelay    = 0.05
}

_G.NekoRunning = true
_G.NekoAttack  = false -- å°æ¥ç¥åˆ€é€£æ“Š
_G.FruitAttack = false
_G.AutoV4      = false -- å°æ¥æ ¸å¿ƒå¼•æ“å…§çš„ V4
_G.NekoESP     = false

-- =============================================================
-- ğŸš€ 4. è³‡æºè¼‰å…¥
-- =============================================================
-- æˆ°é¬¥æ ¸å¿ƒ (NEKOOOOO - å« V4)
task.spawn(function()
    pcall(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOOOOO"))()
    end)
end)

-- UI Library
local NekoLib = loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOUI"))()
local myUI, screenGui = NekoLib.new("NEKO BF")

-- =============================================================
-- ğŸ“¢ 5. å…¬å‘Š / è³‡è¨Š (å‹•æ…‹ç›£æ§ç³»çµ±)
-- =============================================================
local TabInfo = myUI:Tab("å…¬å‘Š / ç‹€æ…‹")
local SecStatus = TabInfo:Section("ç³»çµ±å³æ™‚ç›£æ§")

local BtnUser = SecStatus:Button("ğŸ‘¤ ç©å®¶ï¼šè¼‰å…¥ä¸­...", function() end)
local BtnAtk  = SecStatus:Button("âš”ï¸ æ”»æ“Šï¼šOFF", function() end)
local BtnMode = SecStatus:Button("ğŸ§  æ¨¡å¼ï¼šNone", function() end)
local BtnV4   = SecStatus:Button("ğŸ”¥ V4ï¼šOFF", function() end) -- æ–°å¢ V4 ç‹€æ…‹é¡¯ç¤º

-- å‹•æ…‹æ›´æ–°é‚è¼¯
task.spawn(function()
    while task.wait(0.4) do
        pcall(function()
            BtnUser.Text = "ğŸ‘¤ ç©å®¶ï¼š" .. localPlayer.Name
            BtnAtk.Text  = "âš”ï¸ æ”»æ“Šï¼š" .. (_G.NekoAttack and "ğŸŸ¢ é‹è¡Œä¸­" or "ğŸ”´ å·²é—œé–‰")
            BtnV4.Text   = "ğŸ”¥ V4ï¼š" .. (_G.AutoV4 and "ğŸŸ¢ é–‹å•Ÿ" or "ğŸ”´ é—œé–‰")
            
            local modeName = "ä¼‘æ¯"
            if _G.Settings.Mode == "Mob" then modeName = "è‡ªå‹•æ‰“æ€ª"
            elseif _G.Settings.Mode == "All" then modeName = "å…¨æ®ºæ¨¡å¼" end
            BtnMode.Text = "ğŸ§  æ¨¡å¼ï¼š" .. modeName
        end)
    end
end)

-- =============================================================
-- âš”ï¸ æˆ°é¬¥ç³»çµ±
-- =============================================================
local TabFight = myUI:Tab("æˆ°é¬¥ç³»çµ±")
local F1 = TabFight:Section("æ ¸å¿ƒé–‹é—œ")

F1:Toggle("å•Ÿå‹•ç¥åˆ€é€£æ“Š", function(s) 
    _G.NekoAttack = s 
end)

F1:Toggle("é–‹å•Ÿè²“æŠ“æ‹‰æ€ª", function(s) 
    _G.Settings.PullEnemies = s 
end)

F1:Toggle("è‡ªå‹•è¦ºé†’ V4", function(s) 
    _G.AutoV4 = s 
end)

local F2 = TabFight:Section("æ¨¡å¼åˆ‡æ›")

F2:Button("æ¨¡å¼ï¼šè‡ªå‹•åˆ·ç´š (Mob)", function() 
    _G.Settings.Mode = "Mob" 
end)

F2:Button("æ¨¡å¼ï¼šå…¨æ®ºæ¨¡å¼ (All)", function() 
    _G.Settings.Mode = "All" 
end)

F2:Button("åœæ­¢æ‰€æœ‰è¡Œç‚º", function() 
    _G.Settings.Mode = "None"
    _G.NekoAttack = false
end)

-- =============================================================
-- ğŸ æœå¯¦ç³»çµ±
-- =============================================================
local TabFruit = myUI:Tab("æœå¯¦ç³»çµ±")
local FR = TabFruit:Section("æœå¯¦ M1 è‡ªå®šç¾©")

FR:Toggle("å•Ÿå‹•æœå¯¦é€£æ“Š", function(s) 
    _G.FruitAttack = s 
end)

FR:Textbox("æ”»æ“Šé«˜åº¦", "6", function(v) 
    _G.Settings.FruitHeight = tonumber(v) or 6 
end)

FR:Textbox("æ”»æ“Šé–“éš” (ç§’)", "0.05", function(v) 
    _G.Settings.FruitDelay = tonumber(v) or 0.05 
end)

-- =============================================================
-- ğŸŒ ç’°å¢ƒ / å„ªåŒ–
-- =============================================================
local TabEnv = myUI:Tab("ç’°å¢ƒå„ªåŒ–")
local E1 = TabEnv:Section("è¦–è¦ºæ•ˆæœ")

E1:Toggle("é–‹å•Ÿè²“è²“é€è¦– (ESP)", function(s)
    _G.NekoESP = s
    if s and not _G.ESPLoaded then
        _G.ESPLoaded = true
        loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOESP"))()
    end
end)

E1:Textbox("è¦–é‡ç¯„åœ (FOV)", "70", function(v) 
    _G.Settings.FOV = tonumber(v) or 70 
end)

local E2 = TabEnv:Section("ç³»çµ±å„ªåŒ–")

E2:Button("FPS æ¥µè‡´å„ªåŒ–", function()
    if _G.OptimizeFPS then 
        _G.OptimizeFPS()
    else 
        loadstring(game:HttpGet("https://raw.githubusercontent.com/xiaoxuan-77/-/refs/heads/main/fpsä¼˜åŒ–"))() 
    end
end)

-- =============================================================
-- ğŸƒ ç§»å‹• / é£›è¡Œ
-- =============================================================
local TabMove = myUI:Tab("ç§»å‹•å‚³é€")
local M1 = TabMove:Section("è§’è‰²è¡Œå‹•")

M1:Toggle("é–‹å•Ÿç§»å‹•åŠ é€Ÿ", function(s) 
    _G.Settings.SpeedEnabled = s 
end)

M1:Textbox("è‡ªå®šç¾©é€Ÿåº¦å€¼", "50", function(v) 
    _G.Settings.CatSpeedValue = tonumber(v) or 50 
end)

M1:Button("å¬å–šè²“è²“é£›è¡Œå™¨", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/NEKOFly"))()
end)

local TP = TabMove:Section("è·¨æµ·å‚³é€")
local function Sea(c) 
    pcall(function() ReplicatedStorage.Remotes.CommF_:InvokeServer(c) end) 
end

TP:Button("å‰å¾€ï¼šä¸€æµ· (Main)", function() Sea("TravelMain") end)
TP:Button("å‰å¾€ï¼šäºŒæµ· (Dressrosa)", function() Sea("TravelDressrosa") end)
TP:Button("å‰å¾€ï¼šä¸‰æµ· (Zou)", function() Sea("TravelZou") end)

-- =============================================================
-- ğŸ¾ 6. æœ€å°åŒ–æŒ‰éˆ• (é€£å‹• UI æ”¶åˆ)
-- =============================================================
local MiniBtn = Instance.new("TextButton", screenGui)
MiniBtn.Size = UDim2.new(0, 50, 0, 50)
MiniBtn.Position = UDim2.new(0, 15, 0.5, -25)
MiniBtn.Text = "ğŸ¾"
MiniBtn.TextSize = 30
MiniBtn.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
MiniBtn.TextColor3 = Color3.fromRGB(255, 120, 180)
MiniBtn.ZIndex = 1000
Instance.new("UICorner", MiniBtn).CornerRadius = UDim.new(1, 0)

myUI:AddDrag(MiniBtn)
MiniBtn.MouseButton1Click:Connect(function()
    myUI:Toggle()
end)

-- æ–·é–‹é€£æ¥ä¿è­·
localPlayer.AncestryChanged:Connect(function(_, p)
    if not p then getgenv().NEKO_RUNNING = false end
end)

print("ğŸ¾ NEKO SYSTEM å•Ÿå‹•æˆåŠŸå–µï¼å…¨ç³»çµ±å°æ¥å®Œæˆã€‚")
