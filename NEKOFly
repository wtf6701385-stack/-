-- [[ è²“è²“è…³æœ¬åŸ·è¡Œç«¯ - è¼‰å…¥ UI å¼•æ“ ]]
local success, CatLibRaw = pcall(function()
    return loadstring(game:HttpGet("https://raw.githubusercontent.com/wtf6701385-stack/-/refs/heads/main/FLYUI"))()
end)

if not success then return end

-- [[ åˆå§‹åŒ– UI ]]
local CatLib = CatLibRaw.Init()

-- [[ é€™è£¡å®Œå…¨æ˜¯ä½ åŸæœ¬çš„è®Šæ•¸ ]]
local lp = game.Players.LocalPlayer
local mouse = lp:GetMouse()
local nowe = false
local speeds = 1
local ctrl = {f = 0, b = 0}

-- [[ 1. è²“å…¬å‘Šåˆ†é  ]]
local p0 = CatLib:CreateTab("è²“å…¬å‘Š", true)
CatLib:CreateInfo(p0, "ğŸ¾", "ç‰ˆæœ¬: V3.0")
CatLib:CreateInfo(p0, "ğŸ±", "å–µå—š~ æº–å‚™èµ·é£›ï¼")

-- [[ 2. è²“é£›è¡Œåˆ†é  ]]
local p1 = CatLib:CreateTab("è²“é£›è¡Œ", false)
local speedDisp = CatLib:CreateButton(p1, "é€Ÿåº¦: 1", function() end)

-- [[ æ ¸å¿ƒåŠŸèƒ½ï¼šåˆ‡æ›é£›è¡Œ (å®Œå…¨ä¿ç•™ä½ çš„é‚è¼¯) ]]
CatLib:CreateButton(p1, "è²“é£›è¡Œ", function(self)
    -- é€™ä¸€æ®µå°±æ˜¯ä½ åŸæœ¬ onof.MouseButton1Down è£¡é¢çš„å…§å®¹
    nowe = not nowe
    self.Text = "  ğŸ± è²“é£›è¡Œ : " .. (nowe and "ON" or "OFF")
    
    if nowe then
        task.spawn(function()
            local char = lp.Character
            local root = char:FindFirstChild("HumanoidRootPart") or char:FindFirstChild("UpperTorso")
            local hum = char:FindFirstChildWhichA("Humanoid")
            
            local bg = Instance.new("BodyGyro", root)
            bg.P = 9e4
            bg.maxTorque = Vector3.new(9e9, 9e9, 9e9)
            
            local bv = Instance.new("BodyVelocity", root)
            bv.maxForce = Vector3.new(9e9, 9e9, 9e9)
            
            hum.PlatformStand = true
            char.Animate.Disabled = true

            while nowe and char.Parent do
                game:GetService("RunService").RenderStepped:Wait()
                -- é€™æ˜¯ä½ åŸæœ¬çš„é£›è¡Œç§»å‹•è¨ˆç®—
                bv.velocity = (workspace.CurrentCamera.CFrame.LookVector * (ctrl.f) * (speeds * 20))
                bg.cframe = workspace.CurrentCamera.CFrame
            end
            
            bg:Destroy()
            bv:Destroy()
            hum.PlatformStand = false
            char.Animate.Disabled = false
        end)
    end
end)

-- [[ æ ¸å¿ƒåŠŸèƒ½ï¼šé€Ÿåº¦æ§åˆ¶ (å®Œå…¨ä¿ç•™ä½ çš„ speeds é‚è¼¯) ]]
CatLib:CreateButton(p1, "+", function()
    speeds = speeds + 1
    speedDisp.Text = "  ğŸ± é€Ÿåº¦: " .. speeds
end)

CatLib:CreateButton(p1, "-", function()
    if speeds > 1 then
        speeds = speeds - 1
        speedDisp.Text = "  ğŸ± é€Ÿåº¦: " .. speeds
    end
end)

-- [[ æ ¸å¿ƒåŠŸèƒ½ï¼šä¸Šå‡ä¸‹é™ (å®Œå…¨ä¿ç•™ä½ çš„ CFrame ä½ç§») ]]
CatLib:CreateButton(p1, "UP ğŸ¾", function()
    lp.Character.HumanoidRootPart.CFrame = lp.Character.HumanoidRootPart.CFrame * CFrame.new(0, 1, 0)
end)

CatLib:CreateButton(p1, "DOWN ğŸ¾", function()
    lp.Character.HumanoidRootPart.CFrame = lp.Character.HumanoidRootPart.CFrame * CFrame.new(0, -1, 0)
end)

-- [[ æ ¸å¿ƒåŠŸèƒ½ï¼šæŒ‰éµç›£è½ (å®Œå…¨ä¿ç•™ä½ çš„ KeyDown/KeyUp) ]]
mouse.KeyDown:Connect(function(key)
    if key:lower() == "w" then ctrl.f = 1
    elseif key:lower() == "s" then ctrl.f = -1 end
end)

mouse.KeyUp:Connect(function(key)
    if key:lower() == "w" or key:lower() == "s" then ctrl.f = 0 end
end)
