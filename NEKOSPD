-- NEKOSPD.lua (上傳到你的 GitHub 連結)

-- 引用 Orion 庫
local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()

-- 確保建立新視窗前清除舊的，防止多個視窗重疊
pcall(function() 
    if game:GetService("CoreGui"):FindFirstChild("Orion") then
        game:GetService("CoreGui").Orion:Destroy() 
    end
end)

-- 全域變數同步
_G.CatSpeedActive = _G.CatSpeedActive or false
_G.CatSpeedValue = _G.CatSpeedValue or 50 

-- 核心加速邏輯 (只會啟動一次)
if not _G.SpeedLogicStarted then
    _G.SpeedLogicStarted = true
    task.spawn(function()
        local RunService = game:GetService("RunService")
        local player = game.Players.LocalPlayer
        
        RunService.Heartbeat:Connect(function()
            if _G.CatSpeedActive then
                local char = player.Character
                local hum = char and char:FindFirstChildOfClass("Humanoid")
                if char and hum and hum.MoveDirection.Magnitude > 0 then
                    char:TranslateBy(hum.MoveDirection * (_G.CatSpeedValue / 10))
                end
            end
        end)
    end)
end

-- 建立 Orion 視窗 (這個視窗是可以自由拖動的)
local Window = OrionLib:MakeWindow({
    Name = "貓貓速度控制台", 
    HidePremium = true, 
    SaveConfig = false, 
    IntroText = "貓貓加速加載中..." -- 加個酷炫的小開場
})

local Tab = Window:MakeTab({
    Name = "速度設定",
    Icon = "rbxassetid://4483345998"
})

-- 1. 開關：控制是否啟用加速
Tab:AddToggle({
    Name = "開啟神速模式",
    Default = _G.CatSpeedActive,
    Callback = function(Value)
        _G.CatSpeedActive = Value
    end    
})

-- 2. 輸入框：直接輸入數字改速度
Tab:AddInput({
    Name = "輸入速度倍率 (建議1-100)",
    Default = tostring(_G.CatSpeedValue),
    PlaceholderText = "目前速度: " .. _G.CatSpeedValue,
    ClearTextOnFocus = true,
    Callback = function(Text)
        local num = tonumber(Text)
        if num then
            _G.CatSpeedValue = num
            -- 這裡可以加一個小通知提醒修改成功
            OrionLib:MakeNotification({
                Name = "速度更新",
                Content = "當前倍率已設定為: " .. num,
                Image = "rbxassetid://4483345998",
                Time = 2
            })
        end
    end	  
})

OrionLib:Init()
