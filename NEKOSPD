-- NEKOSPD.lua (ç¨ç«‹å¬å–š UI ç‰ˆ)

-- é˜²æ­¢é‡è¤‡é–‹å•Ÿ
pcall(function() game.Players.LocalPlayer.PlayerGui.CatSpeedV3_Custom:Destroy() end)

local main = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local TextLabel = Instance.new("TextLabel")
local speedInput = Instance.new("TextBox") 
local plus = Instance.new("TextButton")
local mine = Instance.new("TextButton")
local onof = Instance.new("TextButton")
local closebutton = Instance.new("TextButton")
local uiCorner = Instance.new("UICorner")

-- åˆå§‹åŒ– UI å±¬æ€§ (æ¨¡ä»¿ä½ çš„é£›è¡Œä»£ç¢¼)
main.Name = "CatSpeedV3_Custom"
main.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
main.ResetOnSpawn = false

Frame.Parent = main
Frame.BackgroundColor3 = Color3.fromRGB(163, 255, 137)
Frame.Position = UDim2.new(0.1, 0, 0.5, 0) -- ç¨å¾®æ›å€‹ä½ç½®é˜²æ­¢æ“‹åˆ°
Frame.Size = UDim2.new(0, 190, 0, 85)
Frame.Active = true
Frame.Draggable = true

uiCorner.Parent = Frame
uiCorner.CornerRadius = UDim.new(0, 8)

TextLabel.Parent = Frame
TextLabel.Size = UDim2.new(1, 0, 0, 25)
TextLabel.BackgroundTransparency = 1
TextLabel.Text = " ğŸ± è²“è²“ç¥é€Ÿ V3 (é»æ•¸å€¼è¼¸å…¥) "
TextLabel.TextScaled = true
TextLabel.Font = Enum.Font.SourceSansBold

-- æ ¸å¿ƒï¼šé€Ÿåº¦è¼¸å…¥æ¡†
speedInput.Name = "speedInput"
speedInput.Parent = Frame
speedInput.BackgroundColor3 = Color3.fromRGB(255, 85, 0)
speedInput.Position = UDim2.new(0.4, 0, 0.35, 0)
speedInput.Size = UDim2.new(0, 40, 0, 30)
speedInput.Font = Enum.Font.SourceSansBold
speedInput.Text = tostring(_G.CatSpeedValue or 50)
speedInput.TextColor3 = Color3.fromRGB(0, 0, 0)
speedInput.TextScaled = true
speedInput.ClearTextOnFocus = true

plus.Parent = Frame
plus.Text = "+"
plus.Size = UDim2.new(0, 30, 0, 30)
plus.Position = UDim2.new(0.65, 0, 0.35, 0)

mine.Parent = Frame
mine.Text = "-"
mine.Size = UDim2.new(0, 30, 0, 30)
mine.Position = UDim2.new(0.2, 0, 0.35, 0)

onof.Parent = Frame
onof.Text = "å•Ÿå‹•åŠ é€Ÿ"
onof.Size = UDim2.new(0, 100, 0, 25)
onof.Position = UDim2.new(0.24, 0, 0.72, 0)

closebutton.Parent = Frame
closebutton.Text = "X"
closebutton.Size = UDim2.new(0, 25, 0, 25)
closebutton.Position = UDim2.new(0.85, 0, 0, 0)
closebutton.BackgroundTransparency = 1
closebutton.TextColor3 = Color3.fromRGB(255, 0, 0)

-- --- æ ¸å¿ƒè®Šæ•¸èˆ‡ RGB å¾ªç’° ---
local speeds = _G.CatSpeedValue or 50
local active = false
local speaker = game.Players.LocalPlayer

task.spawn(function()
    while main.Parent do
        local color = Color3.fromHSV(tick() % 5 / 5, 0.6, 1)
        Frame.BackgroundColor3 = color
        task.wait()
    end
end)

local function updateSpeed(newVal)
    speeds = tonumber(newVal) or speeds
    _G.CatSpeedValue = speeds
    speedInput.Text = tostring(speeds)
end

speedInput.FocusLost:Connect(function() updateSpeed(speedInput.Text) end)
plus.MouseButton1Click:Connect(function() updateSpeed(speeds + 10) end)
mine.MouseButton1Click:Connect(function() if speeds > 10 then updateSpeed(speeds - 10) end end)

-- é€Ÿåº¦é‚è¼¯ (TranslateBy)
onof.MouseButton1Click:Connect(function()
    active = not active
    if active then
        onof.Text = "åœæ­¢åŠ é€Ÿ"
        onof.BackgroundColor3 = Color3.fromRGB(255, 80, 80)
        task.spawn(function()
            local hb = game:GetService("RunService").Heartbeat
            while active do
                hb:Wait()
                local char = speaker.Character
                local hum = char and char:FindFirstChildOfClass("Humanoid")
                if char and hum and hum.MoveDirection.Magnitude > 0 then
                    char:TranslateBy(hum.MoveDirection * (speeds / 10))
                end
            end
        end)
    else
        onof.Text = "å•Ÿå‹•åŠ é€Ÿ"
        onof.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    end
end)

closebutton.MouseButton1Click:Connect(function() main:Destroy() end)

game:GetService("StarterGui"):SetCore("SendNotification", { 
	Title = "è²“è²“ç¥é€Ÿ";
	Text = "é¢æ¿å·²å¬å–šï¼å¯æ‰‹å‹•è¼¸å…¥æ•¸å€¼";
})
