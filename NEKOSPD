-- NEKOSPD.lua (上傳到你的 GitHub 連結)

-- 引用 Orion 庫
local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()

-- 確保建立新視窗前清除舊的，防止畫面混亂
pcall(function() game:GetService("CoreGui").Orion:Destroy() end)

-- 使用全域變數，確保主腳本也能讀取到
_G.CatSpeedActive = _G.CatSpeedActive or false
_G.CatSpeedValue = _G.CatSpeedValue or 50 -- 默認 50

-- 核心速度邏輯 (TranslateBy 原理)
if not _G.SpeedLogicStarted then
    _G.SpeedLogicStarted = true
    task.spawn(function()
        local RunService = game:GetService("RunService")
        local player = game.Players.LocalPlayer
        
        RunService.Heartbeat:Connect(function()
            if _G.CatSpeedActive then
                local char = player.Character
                local hum = char and char:FindFirstChildOfClass("Humanoid")
                if char and hum and hum.MoveDirection.Magnitude > 0 then
                    char:TranslateBy(hum.MoveDirection * (_G.CatSpeedValue / 10))
                end
            end
        end)
    end)
end

-- 建立 Orion 視窗
local Window = OrionLib:MakeWindow({Name = "貓貓速度控制台", HidePremium = false, SaveConfig = true, ConfigFolder = "CatSpeed"})
local Tab = Window:MakeTab({Name = "速度設定", Icon = "rbxassetid://4483345998"})

-- 開關
Tab:AddToggle({
	Name = "開啟神速模式",
	Default = _G.CatSpeedActive,
	Callback = function(Value)
		_G.CatSpeedActive = Value
	end    
})

-- 【這裡改成了輸入框】
Tab:AddInput({
	Name = "輸入速度倍率",
	Default = tostring(_G.CatSpeedValue),
	PlaceholderText = "目前速度: " .. _G.CatSpeedValue,
	ClearTextOnFocus = true, -- 點擊框框時自動清空文字，方便輸入
	Callback = function(Text)
		local num = tonumber(Text)
		if num then
			_G.CatSpeedValue = num
			print("速度已更換為: " .. num)
		else
			-- 如果輸入的不是數字，就彈出警告（選配）
			print("請輸入有效的數字！")
		end
	end	  
})

OrionLib:Init()
