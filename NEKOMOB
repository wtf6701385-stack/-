-- // [ â˜€ï¸ å…‰èˆ‡å½±ï¼šNEKOMOB 2025 å°æ¥ç‰ˆ ] // --
-- [[ ğŸŒ‘ å½±ï¼šå·²å°æ¥ä¸»è…³æœ¬ _G.MOB é–‹é—œï¼Œå½±å·²å…¥é˜ï¼Œè½å€™æŒ‡ä»¤ã€‚ ]] --

local LP = game.Players.LocalPlayer
local Net = game:GetService("ReplicatedStorage"):WaitForChild("Modules"):WaitForChild("Net")
local RegAttack = Net:WaitForChild("RE/RegisterAttack")
local RegHit = Net:WaitForChild("RE/RegisterHit")

-- 2025 Delta åƒæ•¸
local Config = {
    Distance = 3000,
    AttackDelay = 0.15,
    MaxTargets = 25
}

-- æ ¸å¿ƒç›®æ¨™ç²å– (ä¿æŒ 2025 å„ªåŒ–)
local function GetValidEnemies()
    local targets = {}
    local char = LP.Character
    if not char or not char:FindFirstChild("HumanoidRootPart") then return targets end
    
    local myPos = char.HumanoidRootPart.Position
    local count = 0
    local enemiesFolder = workspace:FindFirstChild("Enemies")
    local candidates = enemiesFolder and enemiesFolder:GetChildren() or workspace:GetChildren()
    
    for _, v in ipairs(candidates) do
        if v:IsA("Model") and v:FindFirstChild("Humanoid") and v.Humanoid.Health > 0 then
            local root = v:FindFirstChild("HumanoidRootPart")
            if root and not game.Players:GetPlayerFromCharacter(v) then
                if (root.Position - myPos).Magnitude <= Config.Distance then
                    count = count + 1
                    targets[count] = {v, root}
                end
            end
        end
        if count >= Config.MaxTargets then break end
    end
    return targets
end

-- å½±ï¼šå•Ÿå‹•å®ˆè­·å¾ªç’°
task.spawn(function()
    while true do
        -- ğŸ¾ å…±åŒï¼šå®Œç¾å°æ¥ä¸»è…³æœ¬ _G.MOB é–‹é—œ
        if _G.MOB then
            pcall(function()
                local char = LP.Character
                local tool = char and char:FindFirstChildOfClass("Tool")

                -- å½±ï¼šåƒ…åœ¨ä¸»äººæ‰‹æŒæ­¦å™¨æ™‚è§¸ç™¼ Delta å”è­°
                if tool then
                    local enemyList = GetValidEnemies()
                    if #enemyList > 0 then
                        RegAttack:FireServer(0)
                        -- 2025 å°åŒ…å„ªåŒ–å°æ¥
                        RegHit:FireServer(enemyList[1][2], enemyList)
                    end
                end
            end)
        end
        -- ç©©å®šçš„å‘¼å¸é »ç‡
        task.wait(Config.AttackDelay + (math.random(1, 20) / 1000))
    end
end)
