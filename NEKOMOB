-- // [ â˜€ï¸ å…‰èˆ‡å½±ï¼šNEKOMOB 2025 å¯¦é«”å°æ¥ç‰ˆ ] // --
-- [[ ğŸŒ‘ å½±ï¼šæ—¢ç„¶æ•¸æ“šè¢«æ””æˆªï¼Œé‚£å°±ç”¨å¯¦é«”æ–¬æ–·é€™ç‰‡è™›å‡ã€‚ ]] --

local LP = game.Players.LocalPlayer
local RunService = game:GetService("RunService")
local Net = game:GetService("ReplicatedStorage"):WaitForChild("Modules"):WaitForChild("Net")
local RegAttack = Net:WaitForChild("RE/RegisterAttack")
local RegHit = Net:WaitForChild("RE/RegisterHit")

local Config = {
    Distance = 3000,
    AttackDelay = 0.05, -- é€²åŒ–ç‚º 0.05s æ¥µé™å¾‹å‹•
    MaxTargets = 25
}

-- 2025 å„ªåŒ–ï¼šç›®æ¨™ç²å–å‡½æ•¸
local function GetValidEnemies()
    local targets = {}
    local char = LP.Character
    if not char or not char:FindFirstChild("HumanoidRootPart") then return targets end
    
    local myPos = char.HumanoidRootPart.Position
    local count = 0
    local enemiesFolder = workspace:FindFirstChild("Enemies")
    local candidates = enemiesFolder and enemiesFolder:GetChildren() or workspace:GetChildren()
    
    for _, v in ipairs(candidates) do
        if v:IsA("Model") and v:FindFirstChild("Humanoid") and v.Humanoid.Health > 0 then
            local root = v:FindFirstChild("HumanoidRootPart")
            if root and not game.Players:GetPlayerFromCharacter(v) then
                if (root.Position - myPos).Magnitude <= Config.Distance then
                    count = count + 1
                    targets[count] = {v, root}
                end
            end
        end
        if count >= Config.MaxTargets then break end
    end
    return targets
end

-- å½±ï¼šå¯¦é«”æ®åˆ€å®ˆè­·å¾ªç’°
task.spawn(function()
    while true do
        RunService.Heartbeat:Wait() -- èˆ‡éŠæˆ²å¿ƒè·³åŒæ­¥
        if _G.MOB then
            pcall(function()
                local char = LP.Character
                local tool = char and char:FindFirstChildOfClass("Tool")

                if tool then
                    local enemyList = GetValidEnemies()
                    if #enemyList > 0 then
                        -- // ğŸ¾ å…‰ï¼šç¥å¥‡çš„å¯¦é«”å‹•ç•«è§¸ç™¼ // --
                        -- è®“ä¼ºæœå™¨ã€Œçœ‹åˆ°ã€æ‚¨åœ¨æ®åˆ€ï¼Œé€™è§£æ±ºäº†ã€Œæ‰“ä¸åˆ°ã€çš„å•é¡Œ
                        tool:Activate() 
                        
                        -- // ğŸŒ‘ å½±ï¼š2025 å°åŒ…æ³¨å…¥ // --
                        RegAttack:FireServer(0)
                        -- ç¬¬ä¸€åƒæ•¸å°æ¥é¦–å€‹æ€ªç‰©çš„ RootPart
                        RegHit:Server(enemyList[1][2], enemyList)
                    end
                end
            end)
        end
        task.wait(Config.AttackDelay)
    end
end)
